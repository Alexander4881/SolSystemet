<!DOCTYPE html>
<html>

<head>
    <title>Planets and moons</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/Bootstrap4/bootstrap.css">
    <link rel="stylesheet" href="./CSS/customCSS.css">
    <script src="./JavaScript/jQuery/jquery-3.4.1.js" rel="stylesheet" type="text/javascript"></script>
    <script src="./JavaScript/Bootstrap4/bootstrap.bundle.min.js" rel="stylesheet" type="text/javascript"></script>
</head>

<body>
    <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Planets<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./PlanetView.html">Planet Information</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search For Planets" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav> -->


    <script src="./JavaScript/ThreeJS/three.min.js"></script>
    <script src="./JavaScript/ThreeJS/OrbitControls.js"></script>
    <script src="./JavaScript/ThreeJS/LoaderSupport.js"></script>
    <script src="./JavaScript/ThreeJS/MTLLoader.js"></script>
    <script src="./JavaScript/ThreeJS/OBJLoader2.js"></script>


    <script>
        // import * as THREE from "./JavaScript/ThreeJS/three.min.js";

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        
        var renderer = new THREE.WebGLRenderer();
        var controls = new THREE.OrbitControls( camera, renderer.domElement );

        loadOBJ("./CSS/3DObjects/RocketThruster_001.obj","./CSS/3DObjects/RocketThruster_001.mtl", 0, 0, 0);
        loadOBJ("./CSS/3DObjects/RocketThruster_002.obj","./CSS/3DObjects/RocketThruster_002.mtl", 0, 8, 0);
        loadOBJ("./CSS/3DObjects/RocketThruster_003.obj","./CSS/3DObjects/RocketThruster_003.mtl", 0, -8, 0);

        loadOBJ("./CSS/3DObjects/RocketBody_001.obj", "./CSS/3DObjects/RocketBody_001.mtl", 4, 0, 0);
        loadOBJ("./CSS/3DObjects/RocketBody_002.obj", "./CSS/3DObjects/RocketBody_002.mtl", 4, 8, 0);
        loadOBJ("./CSS/3DObjects/RocketBody_003.obj", "./CSS/3DObjects/RocketBody_003.mtl", 4, -8, 0);

        loadOBJ("./CSS/3DObjects/RocketNose_001.obj", "./CSS/3DObjects/RocketNose_001.mtl", 9.3, 0, 0);
        loadOBJ("./CSS/3DObjects/RocketNose_002.obj", "./CSS/3DObjects/RocketNose_002.mtl", 9.3, 8, 0);
        loadOBJ("./CSS/3DObjects/RocketNose_003.obj", "./CSS/3DObjects/RocketNose_003.mtl", 9.3, -8, 0);


        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor (0xf0f0f0, 1);
        document.body.appendChild(renderer.domElement);

        
        function loadOBJ(objPath,mtlPath, positionY, positionX, positionZ){
            const objLoader = new THREE.OBJLoader2();
            objLoader.loadMtl(mtlPath, null, (materials) => {
                objLoader.setMaterials(materials);
                objLoader.load(objPath, (event) => {
                    const root = event.detail.loaderRootNode;
                    root.position.set(positionX, positionY, positionZ);
                    scene.add(root);
                });
            });
        }

        var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );
        scene.add( light );


        // scene.add(rocketPartsThruster);
        // scene.add(rocketPartsBody);
        // scene.add(rocketPartsNose);


        function spaceOBJs(rocketParts){
            for (i = 0; i < rocketParts.length; i++) { 
                console.log(i);
            }
        }

        camera.position.z = 20;
        camera.position.y = 10;

        controls.target = new THREE.Vector3(0, 10, 0);

        controls.update();

        function animate() {
            requestAnimationFrame(animate);

            // required if controls.enableDamping or controls.autoRotate are set to true
	        controls.update();

            renderer.render(scene, camera);
        }
        animate();

    </script>

</body>

</html>